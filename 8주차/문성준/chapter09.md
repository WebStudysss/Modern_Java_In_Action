# 9. ë¦¬íŒ©í„°ë§, í…ŒìŠ¤íŒ…, ë””ë²„ê¹…

<aside>
ğŸ“– ì´ ì¥ì˜ ë‚´ìš©
- ëŒë‹¤ í‘œí˜„ì‹ìœ¼ë¡œ ì½”ë“œ ë¦¬íŒ©í„°ë§í•˜ê¸°
- ëŒë‹¤ í‘œí˜„ì‹ì´ ê°ì²´ì§€í–¥ ì„¤ê³„ íŒ¨í„´ì— ë¯¸ì¹˜ëŠ” ì˜í–¥
- ëŒë‹¤ í‘œí˜„ì‹ í…ŒìŠ¤íŒ…
- ëŒë‹¤ í‘œí˜„ì‹ê³¼ ìŠ¤íŠ¸ë¦¼ API ì‚¬ìš© ì½”ë“œ ë””ë²„ê¹…

</aside>

---

## **9.1 ê°€ë…ì„±ê³¼ ìœ ì—°ì„±ì„ ê°œì„ í•˜ëŠ” ë¦¬íŒ©í„°ë§**

ëŒë‹¤ í‘œí˜„ì‹ì€ ìµëª… í´ë˜ìŠ¤ë³´ë‹¤ ì½”ë“œë¥¼ ì¢€ ë” ê°„ê²°í•˜ê²Œ ë§Œë“ ë‹¤.
ëŒë‹¤, ë©”ì„œë“œ ì°¸ì¡°, ìŠ¤íŠ¸ë¦¼ ë“±ì˜ ê¸°ëŠ¥ì„ ì´ìš©í•´ì„œ ë” ê°€ë…ì„±ì´ ì¢‹ê³  ìœ ì—°í•œ ì½”ë“œë¡œ ë¦¬íŒ©í„°ë§í•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë³´ì.

### **9.1.1 ì½”ë“œ ê°€ë…ì„± ê°œì„ **

ê°€ë…ì„±ì„ ê°œì„ í•œë‹¤ëŠ” ê²ƒì€ êµ¬í˜„í•œ ì½”ë“œë¥¼ ë‹¤ë¥¸ ì‚¬ëŒì´ ì‰½ê²Œ ì´í•´í•˜ê³  ìœ ì§€ë³´ìˆ˜í•  ìˆ˜ ìˆê²Œ ë§Œë“œëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.
ì½”ë“œ ê°€ë…ì„±ì„ ë†’ì´ë ¤ë©´ ì½”ë“œì˜ ë¬¸ì„œí™”ë¥¼ ì˜ í•˜ê³ , í‘œì¤€ ì½”ë”© ê·œì¹™ì„ ì¤€ìˆ˜í•´ì•¼í•œë‹¤.

### **9.1.2 ìµëª… í´ë˜ìŠ¤ë¥¼ ëŒë‹¤ í‘œí˜„ì‹ìœ¼ë¡œ ë¦¬íŒ©í„°ë§í•˜ê¸°**

ì™œ ìµëª… í´ë˜ìŠ¤ë¥¼ ëŒë‹¤ í‘œí˜„ì‹ìœ¼ë¡œ ë¦¬íŒ©í„°ë§ í•˜ëŠ” ê²ƒì¼ê¹Œ ? â†’ ìµëª…í´ë˜ìŠ¤ëŠ” ì½”ë“œë¥¼ ì¥í™©í•˜ê²Œ ë§Œë“¤ê³  ì‰½ê²Œ ì—ëŸ¬ë¥¼ ì¼ìœ¼í‚¤ê¸° ë•Œë¬¸ì´ë‹¤. ì¦‰, ìµëª…í´ë˜ìŠ¤ë¥¼ ëŒë‹¤ í‘œí˜„ì‹ìœ¼ë¡œ ë³€í™˜í•˜ë©´ ê°„ê²°í•˜ê³  ê°€ë…ì„± ì¢‹ì€ ì½”ë“œë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

í•˜ì§€ë§Œ ëª¨ë“  ìµëª… í´ë˜ìŠ¤ë¥¼ ëŒë‹¤ í‘œí˜„ì‹ìœ¼ë¡œ ë³€í™˜í•  ìˆ˜ ìˆëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤. ì•„ë˜ ì£¼ì˜ì ì„ ì£¼ì˜ ê¹Šê²Œ ë³´ì.

**ìµëª…í´ë˜ìŠ¤ë¥¼ ëŒë‹¤í‘œí˜„ì‹ìœ¼ë¡œ ë³€í™˜í•  ë•Œ ì£¼ì˜ì **

1. ìµëª…í´ë˜ìŠ¤ì—ì„œ thisëŠ” ìµëª…í´ë˜ìŠ¤ ìì‹ ì„ ê°€ë¦¬í‚¤ì§€ë§Œ ëŒë‹¤ì—ì„œ thisëŠ” ëŒë‹¤ë¥¼ ê°ì‹¸ëŠ” í´ë˜ìŠ¤ë¥¼ ê°€ë¦¬í‚¨ë‹¤.
(ì¦‰, ìµëª… í´ë˜ìŠ¤ì—ì„œ ì‚¬ìš©í•œ thisì™€ superëŠ” ëŒë‹¤ í‘œí˜„ì‹ì—ì„œ ë‹¤ë¥¸ ì˜ë¯¸ë¥¼ ê°–ëŠ”ë‹¤)

2. ìµëª…í´ë˜ìŠ¤ëŠ” ê°ì‹¸ê³ ìˆëŠ” í´ë˜ìŠ¤ì˜ ë³€ìˆ˜ë¥¼ ê°€ë¦´ ìˆ˜ ìˆì§€ë§Œ, ëŒë‹¤ í‘œí˜„ì‹ìœ¼ë¡œëŠ” ê°€ë¦´ ìˆ˜ ì—†ë‹¤.

3. ìµëª…í´ë˜ìŠ¤ë¥¼ ëŒë‹¤ í‘œí˜„ì‹ìœ¼ë¡œ ë°”ê¾¸ë©´ ì½˜í…ìŠ¤íŠ¸ ì˜¤ë²„ë¡œë”©ì— ë”°ë¥¸ ëª¨í˜¸í•¨ì´ ì´ˆë˜ë  ìˆ˜ ìˆë‹¤.
â†’ ìµëª… í´ë˜ìŠ¤ëŠ” ì¸ìŠ¤í„´ìŠ¤í™”í•  ë•Œ ëª…ì‹œì ìœ¼ë¡œ í˜•ì‹ì´ ì •í•´ì§€ëŠ” ë°˜ë©´ ëŒë‹¤ì˜ í˜•ì‹ì€ ì½˜í…ìŠ¤íŠ¸ì— ë”°ë¼ ë‹¬ë¼ì§€ê¸° ë•Œë¬¸ì´ë‹¤. ì´ ë§ë„ ì–´ë ¤ìš¸ ìˆ˜ ìˆë‹¤. 
ë‹¤ì‹œ ë§í•´, ëŒë‹¤ í‘œí˜„ì‹ì´ ì–´ë–¤ í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ”ì§€ì— ë”°ë¼ ë‹¤ë¥¸ ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— 'ì½˜í…ìŠ¤íŠ¸ ì˜¤ë²„ë¡œë”©'ì— ë”°ë¥¸ ëª¨í˜¸í•¨ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤.

```jsx
interface Task {
public void execute();
}

public static void doSomething(Runnable r) { r.run(); }
public static void doSomething(Task a) { r.excute(); }

//ìµëª…í´ë˜ìŠ¤ë¡œ ì „ë‹¬ ê°€ëŠ¥
doSomethig(new Task() {
public void execute() {
System.out.println("Danger danger!!");
}
});

//Runnableê³¼ Task ëª¨ë‘ ëŒ€ìƒ í˜•ì‹ì´ ê°€ëŠ¥í•˜ë¯€ë¡œ ëª¨í˜¸í•¨ ë°œìƒ
doSomething(() -> System.out.println("Danger danger!!"));

//ëª…ì‹œì  í˜•ë³€í™˜ì„ ì‚¬ìš©í•´ì„œ ëª¨í˜¸í•¨ì„ ì œê±°í•  ìˆ˜ ìˆìŒ
doSomething((Task)() -> System.out.println("Danger danger!!"));
```

### **9.1.3 ëŒë‹¤ í‘œí˜„ì‹ì„ ë©”ì„œë“œ ì°¸ì¡°ë¡œ ë¦¬íŒ©í„°ë§í•˜ê¸°**

ë©”ì„œë“œ ì°¸ì¡°ë¥¼ ì‚¬ìš©í•˜ë©´ ë©”ì„œë“œëª…ìœ¼ë¡œ ì½”ë“œì˜ ì˜ë„ë¥¼ ëª…í™•íˆ ì•Œë¦´ ìˆ˜ ìˆë‹¤.

ë˜í•œ `comparing`ê³¼ `maxBy`ê°™ì€ ì •ì  í—¬í¼ ë©”ì„œë“œë¥¼ í™œìš©í•˜ëŠ” ê²ƒë„ ì¢‹ë‹¤.

```jsx
inventory.sort(
(Apple a1, Apple a2) -> a1.getWeight().compareTo(a2.getWeight())); //ë¹„êµêµ¬í˜„ì— ì‹ ê²½ì¨ì•¼í•¨
inventory.sort(comparing(Apple::getWeight)); //ì½”ë“œê°€ ë¬¸ì œ ìì²´ë¥¼ ì„¤ëª…
```

ëŒë‹¤í‘œí˜„ì‹ê³¼ ì €ìˆ˜ì¤€ ë¦¬ë“€ì‹± ì—°ì‚°ì„ ì¡°í•©í•˜ëŠ”ê²ƒë³´ë‹¤ Collectors APIë¥¼ ì‚¬ìš©í•˜ë©´ ì½”ë“œì˜ ì˜ë„ê°€ ë” ëª…í™•í•´ì§„ë‹¤.

```jsx
//ëŒë‹¤ + ì €ìˆ˜ì¤€ ë¦¬ë“€ì‹± ì‚¬ìš©
int totalaCalories = menu.stream().map(Dish::getCalories)
.reduce(0, (c1, c2) -> c1 + c2);

//ë‚´ì¥ ì»¬ë ‰í„° ì‚¬ìš©
int totalaCalories = menu.stream().collect(summingInt(Dish::getCalories));
```

### **9.1.4 ëª…ë ¹í˜• ë°ì´í„° ì²˜ë¦¬ë¥¼ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ë¦¬íŒ©í„°ë§í•˜ê¸°**

ìŠ¤íŠ¸ë¦¼ APIëŠ” ë°ì´í„° ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸ì˜ ì˜ë„ë¥¼ ë” ëª…í™•í•˜ê²Œ ë³´ì—¬ì¤€ë‹¤. ìŠ¤íŠ¸ë¦¼ì€ ì‡¼íŠ¸ì„œí‚·ê³¼ ê²Œìœ¼ë¦„ì´ë¼ëŠ” ê°•ë ¥í•œ ìµœì í™”ë¿ ì•„ë‹ˆë¼ ë©€í‹°ì½”ì–´ ì•„í‚¤í…ì²˜ë¥¼ í™œìš©í•  ìˆ˜ ìˆëŠ” ì§€ë¦„ê¸¸ì„ ì œê³µ

```jsx
List<String> dishNames = new ArrayList<>();
for(Dish dish : menu) {
if(dish.getCalories() > 300 ) {
dishNames.add(dish.getName());
}
}

//ìŠ¤íŠ¸ë¦¼ APIë¡œ ë³€í™˜í•˜ë©´ ë” ì§ì ‘ì ìœ¼ë¡œ ê¸°ìˆ  & ì‰½ê²Œ ë³‘ë ¬í™” ê°€ëŠ¥
menu.parallelStream()
.filter(d -> d.getCaloires() > 300)
.map(Dish::getName)
.collect(toList());
```

### **9.1.5 ì½”ë“œ ìœ ì—°ì„± ê°œì„ **

ë‹¤ì–‘í•œ ëŒë‹¤ë¥¼ ì „ë‹¬í•´ì„œ ë‹¤ì–‘í•œ ë™ì‘ì„ í‘œí˜„í–ˆë‹¤. í”„ë ˆë””ì¼€ì´íŠ¸ë¡œ ë‹¤ì–‘í•œ í•„í„°ë§ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê±°ë‚˜ ë¹„êµìë¡œ ë‹¤ì–‘í•œ ë¹„êµ ê¸°ëŠ¥ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤ â†’ ì¦‰, ë³€í™”í•˜ëŠ” ìš”êµ¬ì‚¬í•­ì— ëŒ€ì‘í•  ìˆ˜ ìˆëŠ” ì½”ë“œë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

**í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ ì ìš©**

ëŒë‹¤í‘œí˜„ì‹ì„ ì´ìš©í•˜ë ¤ë©´ í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ë¥¼ ì½”ë“œì— ì¶”ê°€í•´ì•¼í•œë‹¤.

**ì¡°ê±´ë¶€ ì—°ê¸° ì‹¤í–‰**

```jsx
if(logger.isLoggale(Log.FINER)) 
logger.finner("Problem : " + generateDiagnostic());
}
```

ìœ„ ì½”ë“œì˜ ë¬¸ì œì ì€ `logger`ì˜ ìƒíƒœê°€ `isLoggable` ë©”ì„œë“œì— ì˜í•´ í´ë¼ì´ì–¸íŠ¸ ì½”ë“œë¡œ ë…¸ì¶œëœë‹¤. 
ë˜í•œ ë©”ì‹œì§€ë¥¼ ë¡œê¹…í• ë•Œë§ˆë‹¤ `logger`ì˜ ê°ì²´ë¥¼ ë§¤ë²ˆ í™•ì¸í•´ì•¼ í•œë‹¤. â†’ ì½”ë“œë¥¼ ì–´ì§€ëŸ½í ë¿ì´ë‹¤.

```jsx
// ì´ë ‡ê²Œ ë©”ì‹œì§€ë¥¼ ë¡œê¹…í•˜ê¸° ì „ì— logger ê°ì²´ê°€ ì ì ˆí•œ ìˆ˜ì¤€ìœ¼ë¡œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ ë‚´ë¶€ì ìœ¼ë¡œ í™•ì¸í•˜ëŠ”
// log ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë°”ëŒì§í•˜ë‹¤.
logger.log(Lelvel.FINER, "Problem : " + generateDiagnostic());
```

ë•ë¶„ì— ë¶ˆí•„ìš”í•œ ifë¬¸ì„ ì œê±°í•˜ê³  loggerì˜ ìƒíƒœë¥¼ ë…¸ì¶œí•  í•„ìš”ë„ ì—†ì–´ì¡Œì§€ë§Œ, loggerê°€ í™œì„±í™”ë˜ì–´ ìˆì§€ ì•Šë”ë¼ë„ í•­ìƒ ë¡œê¹… ë©”ì‹œì§€ë¥¼ í‰ê°€í•˜ê²Œ ëœë‹¤.

ë‹¤ìŒì€ supplierë¥¼ ì¸ìˆ˜ë¡œ ê°–ëŠ” ì˜¤ë²„ë¡œë“œëœ log ë©”ì„œë“œë¥¼ í†µí•´ í•´ê²°í•  ìˆ˜ ìˆë‹¤.

```jsx
logger.log(Level.FINER, () ->Â  "Problem : " + generateDiagnostic());
```

log ë©”ì„œë“œëŠ” loggerì˜ ìˆ˜ì¤€ì´ ì ì ˆí•˜ê²Œ ì„¤ì •ë˜ì–´ ìˆì„ ë•Œë§Œ ì¸ìˆ˜ë¡œ ë„˜ê²¨ì§„ ëŒë‹¤ë¥¼ ë‚´ë¶€ì ìœ¼ë¡œ ì‹¤í–‰í•˜ë‹¤.
ë‹¤ìŒì€ log ë©”ì„œë“œì˜ ë‚´ë¶€êµ¬í˜„ ì½”ë“œì´ë‹¤.

```jsx
public void log(Level level, Supplier<String> msgSupplier) {
if(logger.isLoggable(level)) {
log(level, msgSupplier.get()); //ëŒë‹¤ ì‹¤í–‰
}
}
```

ì´ ê¸°ë²•ìœ¼ë¡œ ì–´ë–¤ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆì„ê¹Œ? 
ë§Œì¼ í´ë¼ì´ì–¸íŠ¸ ì½”ë“œì—ì„œ ê°ì²´ ìƒíƒœë¥¼ ìì£¼ í™•ì¸í•˜ê±°ë‚˜ (ì˜ˆë¥¼ ë“¤ë©´ loggerì˜ ìƒíƒœ),
ê°ì²´ì˜ ì¼ë¶€ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ìƒí™©(ì˜ˆë¥¼ ë“¤ë©´ ë©”ì‹œì§€ ë¡œê¹…)ì´ë¼ë©´ ë‚´ë¶€ì ìœ¼ë¡œ ê°ì²´ì˜ ìƒíƒœë¥¼ í™•ì¸í•œ ë‹¤ìŒì— ë©”ì„œë“œë¥¼ í˜¸ì¶œ(ëŒë‹¤ë‚˜ ë©”ì„œë“œ ì°¸ì¡°ë¥¼ ì¸ìˆ˜ë¡œ ì‚¬ìš©)í•˜ë„ë¡ ìƒˆë¡œìš´ ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.
ê·¸ëŸ¬ë©´ ì½”ë“œ ê°€ë…ì„±ì´ ì¢‹ì•„ì§ˆ ë¿ì•„ë‹ˆë¼ ìº¡ìŠí™”ë„ ê°•í™”ëœë‹¤ â†’ ê°ì²´ ìƒíƒœê°€ í´ë¼ì´ì–¸íŠ¸ ì½”ë“œë¡œ ë…¸ì¶œë˜ì§€ ì•Šê¸°ë•Œë¬¸

### **ì‹¤í–‰ ì–´ë¼ìš´ë“œ**

ë§¤ë²ˆ ê°™ì€ ì¤€ë¹„, ì¢…ë£Œ ê³¼ì •ì„ ë°˜ë³µì ìœ¼ë¡œ ìˆ˜í–‰í•˜ëŠ” ì½”ë“œê°€ ìˆë‹¤ë©´ ëŒë‹¤ë¡œ ë³€í™˜í•  ìˆ˜ ìˆë‹¤.

```jsx
String oneLine = 
	processFile((BufferedReader b) -> b.readline()); //ëŒë‹¤ ì „ë‹¬
String twoLine = 
	processFile((BufferedReader b) -> b.readline() + b.readline()); //ë‹¤ë¥¸ ëŒë‹¤ ì „ë‹¬
public static String processFile(BufferedReaderProcessor p) throws IOException {
	try(BufferedReader br = new BufferedReader(new fileReader("data.txt"))) {
		return p.process(br); //ì¸ìˆ˜ë¡œ ì „ë‹¬ëœ BufferedReaderProcessor ì‹¤í–‰
}
}// IOExceptionì„ ë˜ì§ˆ ìˆ˜ ìˆëŠ” ëŒë‹¤ì˜ í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤

public interface BufferedReaderProcessor {
	string process(BufferedReader b) throws IOException;
} // ì´ ì¸í„°í˜ì´ìŠ¤ ë•ë¶„ì— ëŒë‹¤ë¡œ ë²„í¼ë¦¬ë” ê°ì²´ì˜ ë™ì‘ì„ ê²°ì •í•  ìˆ˜ ìˆë‹¤.
```

## **9.2 ëŒë‹¤ë¡œ ê°ì²´ì§€í–¥ ë””ìì¸ íŒ¨í„´ ë¦¬íŒ©í„°ë§í•˜ê¸°**

ëŒë‹¤ë¥¼ ì´ìš©í•˜ë©´ ì´ì „ì— ë””ìì¸ íŒ¨í„´ìœ¼ë¡œ í•´ê²°í•˜ë˜ ë¬¸ì œë¥¼ ë” ì‰½ê³  ê°„ë‹¨í•˜ê²Œ í•´ê²°í•  ìˆ˜ ìˆë‹¤.
ëŒë‹¤ í‘œí˜„ì‹ìœ¼ë¡œ ê¸°ì¡´ì˜ ë§ì€ ê°ì²´ì§€í–¥ ë””ìì¸ íŒ¨í„´ì„ ì œê±°í•˜ê±°ë‚˜ ê°„ê²°í•˜ê²Œ ì¬êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.
ì•ìœ¼ë¡œ ë°°ìš¸ ë‹¤ì„¯ ê°€ì§€ íŒ¨í„´ì€ ê° ë””ìì¸ íŒ¨í„´ì—ì„œ ëŒë‹¤ë¥¼ ì–´ë–»ê²Œ í™œìš©í•  ìˆ˜ ìˆëŠ”ì§€ ì•Œ ìˆ˜ ìˆë‹¤.

### **9.2.1 ì „ëµ**

ì „ëµíŒ¨í„´ì€ í•œ ìœ í˜•ì˜ ì•Œê³ ë¦¬ì¦˜ì„ ë³´ìœ í•œ ìƒíƒœì—ì„œ ëŸ°íƒ€ì„ì— ì ì ˆí•œ ì•Œê³ ë¦¬ì¦˜ì„ ì„ íƒí•˜ëŠ” ê¸°ë²•ì´ë©°, ì„¸ ë¶€ë¶„ìœ¼ë¡œ êµ¬ì„±ëœë‹¤.

![IMG_0877.jpeg](https://prod-files-secure.s3.us-west-2.amazonaws.com/075997f4-35b2-4955-b621-060d6a108880/03cf9afc-197b-4a6b-ac82-86c5362e9b9c/IMG_0877.jpeg)

```jsx
//String ë¬¸ìì—´ì„ ê²€ì¦í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤
public interface ValidationStrategy {
boolean execute(String s);
}

//ìœ„ì—ì„œ ì •ì˜í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” í´ë˜ìŠ¤ë¥¼ í•˜ë‚˜ ì´ìƒ ì •ì˜
public class IsAllLowerCase implements ValidationStrategy {
public boolean execute(String s) {
return s.matches("[a-z]+");
}
}

public class IsNumeric implements ValidationStrategy {
public boolean execute(String s) {
return s.matches("\\d+");
}
}

//ì „ëµê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” í´ë˜ìŠ¤ì´ë©°, ì§€ê¸ˆê¹Œì§€ êµ¬í˜„í•œ í´ë˜ìŠ¤ë¥¼ ë‹¤ì–‘í•œ ê²€ì¦ ì „ëµìœ¼ë¡œ í™œìš©í•  ìˆ˜ ìˆë”°.
public class Validator {
private final ValidationStrategy strategy;
public Validator(ValidationStrategy v) {
this.strategy = v;
}
public boolean validate(String s) {
return strategy.execute(s);
	}
}
Validator numericValidator = new Validator(new IsNumeric());
boolean b1 = numericValidator.validate("AAA"); //false
Validator lowerCaseValidator = new Validator(new IsAllLowerCase());
boolean b2 = lowerCaseValidator.validate("bbb"); //true
```

**ëŒë‹¤ í‘œí˜„ì‹ ì‚¬ìš©**

ë‹¤ì–‘í•œ ì „ëµì„ êµ¬í˜„í•˜ëŠ” ìƒˆë¡œìš´ í´ë˜ìŠ¤ë¥¼ êµ¬í˜„í•  í•„ìš” ì—†ì´ ëŒë‹¤ í‘œí˜„ì‹ì„ ì§ì ‘ ì „ë‹¬í•˜ë©´ ì½”ë“œê°€ ê°„ê²°í•´ì§„ë‹¤.
ValidationStrategyëŠ” í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ì´ë©° Predicate<String>ê³¼ ê°™ì€ í•¨ìˆ˜ ë””ìŠ¤í¬ë¦½í„°ë¥¼ ê°–ê³  ìˆê¸° ë•Œë¬¸.

```jsx
Validator numericValidator = new Validator((String s) -> s.matches("[a-z]+")); //ëŒë‹¤ë¥¼ ì§ì ‘ ì „ë‹¬
boolean b1 = numericValidator.validate("AAA");
Validator lowerCaseValidator = new Validator((String s) -> s.matches("\\d+");
boolean b2 = lowerCaseValidator.validate("bbb");
```

### **9.2.2 í…œí”Œë¦¿ ë©”ì„œë“œ**

ì•Œê³ ë¦¬ì¦˜ì˜ ê°œìš”ë¥¼ ì œì‹œí•œ ë‹¤ìŒì— ì•Œê³ ë¦¬ì¦˜ì˜ ì¼ë¶€ë¥¼ ê³ ì¹  ìˆ˜ ìˆëŠ” ìœ ì—°í•¨ì„ ì œê³µí•´ì•¼ í•  ë•Œ í…œí”Œë¦¿ ë©”ì„œë“œ ë””ìì¸ íŒ¨í„´ì„ ì‚¬ìš©í•œë‹¤.
â†’ ë„ˆë¬´ ì¶”ìƒì ì´ë‹¤. ì´ëŠ”, í…œí”Œë¦¿ ë©”ì„œë“œëŠ” â€˜ì´ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ê³  ì‹¶ì€ë° ê·¸ëŒ€ë¡œëŠ” ì•ˆ ë˜ê³  ì¡°ê¸ˆ ê³ ì³ì•¼ í•˜ëŠ”â€™ ìƒí™©ì— ì í•©í•˜ë‹¤ëŠ” ê²ƒì´ë‹¤.

```jsx
abstract class OnlineBanking {
	public void processCustomer(int id) {
		Customer c = Database.getCustomerWithId(id);
		makeCustomerHappy(c);
	}
	abstract void makeCustomerHappy(Customer c);
}
```

processCustomer ë©”ì„œë“œëŠ” ì˜¨ë¼ì¸ ë±…í‚¹ ì•Œê³ ë¦¬ì¦˜ì´ í•´ì•¼ í•  ì¼ì„ ë³´ì—¬ì¤€ë‹¤.
ê°ê°ì˜ ì§€ì ì€ OnlineBanking í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì•„ makeCustomerHappy ë©”ì„œë“œê°€ ì›í•˜ëŠ” ë™ì‘ì„ ìˆ˜í–‰í•˜ë„ë¡ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

**ëŒë‹¤ í‘œí˜„ì‹ ì‚¬ìš©**

```java
//Consumer<Customer> í˜•ì‹ì˜ ë‘ë²ˆì§¸ ì¸ìˆ˜ë¥¼ ì¶”ê°€
public void processCustomer(int id, Consumer<Customer> makeCustomerHappy) {
	Customer c = Database.getCustomerWithId(id);
	makeCustomerHappy.accept(c);

}

//ëŒë‹¤í‘œí˜„ì‹ì„ ì§ì ‘ ì „ë‹¬ ê°€ëŠ¥
new OnlineBankingLambda().processCustomer(1337, (Customer c) -> 
	System.out.println("Hello" + c.getName());
```

### **9.2.3 ì˜µì €ë²„**

ì–´ë–¤ ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ í•œ ê°ì²´(ì£¼ì œ)ê°€ ë‹¤ë¥¸ ê°ì²´ ë¦¬ìŠ¤íŠ¸(ì˜µì €ë²„)ì— ìë™ìœ¼ë¡œ ì•Œë¦¼ì„ ë³´ë‚´ì•¼í•˜ëŠ” ìƒí™©ì—ì„œ ì˜µì €ë²„ ë””ìì¸ íŒ¨í„´ì„ ì‚¬ìš©í•œë‹¤.
ì‹¤ì œ ì˜µì €ë²„ íŒ¨í„´ìœ¼ë¡œëŠ” íŠ¸ìœ„í„° ê°™ì€ ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆëœ ì•Œë¦¼ ì‹œìŠ¤í…œì„ ì„¤ê³„í•˜ê³  êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.
ë‹¤ì–‘í•œ ì‹ ë¬¸ ë§¤ì²´(ë‰´ìš•íƒ€ì„ìŠ¤, ê°€ë””ì–¸, ë¥´ëª½ë“œ)ê°€ ë‰´ìŠ¤ íŠ¸ìœ—ì„ êµ¬ë…í•˜ê³  ìˆìœ¼ë©° íŠ¹ì • í‚¤ì›Œë“œë¥¼ í¬í•¨í•˜ëŠ” íŠ¸ìœ—ì´ ë“±ë¡ë˜ë©´ ì•Œë¦¼ì„ ë°›ê³  ì‹¶ì–´í•œë‹¤. 
ìš°ì„  ë‹¤ì–‘í•œ ì˜µì €ë²„ë¥¼ ê·¸ë£¹í™”í•  Observer ì¸í„°í˜ì´ìŠ¤ê°€ í•„ìš”í•˜ë‹¤. Observer ì¸í„°í˜ì´ìŠ¤ëŠ” ìƒˆë¡œìš´ íŠ¸ìœ—ì´ ìˆì„ ë•Œ ì£¼ì œ(Feed)ê°€ í˜¸ì¶œí•  ìˆ˜ ìˆë„ë¡ notifyë¼ê³  í•˜ëŠ” í•˜ë‚˜ì˜ ë©”ì„œë“œë¥¼ ì œê³µí•œë‹¤.

```java
//1. ì˜µì €ë²„
//ì£¼ì œê°€ í˜¸ì¶œí•  ìˆ˜ ìˆë„ë¡ notify ë©”ì„œë“œ ì œê³µ
interface Observer {
	void notify(String tweet);
}
Class NYTimes implements Observer {
	public void notify(String tweet) {
		if(tweet != null && tweet.contains("money")) {
			System.out.println("Breaking news in NY!" + tweet);
		}
	}
}
Class Guardian implements Observer {
	public void notify(String tweet) {
		if(tweet != null && tweet.contains("queen")) {
			System.out.println("Yet more news from London..." + tweet);
		}
	}
}

//2. ì£¼ì œ
interface Subject {
	void registerObserver(Observer o);
	void notifyObservers(String tweet);
}
Class Feed implements Subject {
	private final List<Observer> observers = new ArrayList<>();
	public void registerObserver(Observer o) {
		this.observers.add(0);
}
	public void notifyServeres(String tweet) {
		observers.forEach(o -> o.notify(tweet));
	}
} 
/*
 FeedëŠ” íŠ¸ìœ—ì„ ë°›ì•˜ì„ ë•Œ ì•Œë¦¼ì„ ë³´ë‚¼ ì˜µì €ë²„ ë¦¬ìŠ¤íŠ¸ë¥¼ ìœ ì§€í•œë‹¤. ì´ì œ ì£¼ì œì™€ ì˜µì €ë²„ë¥¼ ì—°ê²°í•˜ëŠ” ë°ëª¨
	appì„ ë§Œë“¤ ìˆ˜ ìˆë”°.
*/

Feed f = new Feed();
f.registerObserver(new NYTimes());
f.registerObserver(new Guardian());
f.notifyServeres("The queen said her favorite book is Modern Java in Action!");
// ì´ì œ ê°€ë””ì–¸ë„ ìš°ë¦¬ì˜ íŠ¸ìœ—ì„ ë°›ì•„ë³¼ ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.
```

**ëŒë‹¤ í‘œí˜„ì‹ ì‚¬ìš©**
ì˜µì €ë²„ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤í™”í•˜ì§€ ì•Šê³  ëŒë‹¤í‘œí˜„ì‹ì„ ì§ì ‘ ì „ë‹¬í•´ì„œ ì‹¤í–‰í•  ë™ì‘ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤.
(ëŒë‹¤ëŠ” ë¶ˆí•„ìš”í•œ ê°ì‹¸ëŠ” ì½”ë“œ ì œê±° ì „ë¬¸ê°€ì´ê¸° ë•Œë¬¸ì´ë‹¤)

```java
f.registerObserver((String tweet) -> {
	if(tweet != null && tweet.contains("money")) {
		System.out.println("Breaking news in NY!" + tweet);
	}
});
f.registerObserver((String tweet) -> {
	if(tweet != null && tweet.contains("queen")) {
		System.out.println("Yet more news from London..." + tweet);
	}
});
```

ëŒë‹¤ í‘œí˜„ì‹ì€ í•­ìƒ ì‚¬ìš©í•˜ëŠ” ê²ƒì¼ê¹Œ?
â†’ ì‹¤í–‰í•´ì•¼ í•  ë™ì‘ì´ ë¹„êµì  ê°„ë‹¨í•˜ë©´ ëŒë‹¤í‘œí˜„ì‹ì„ ì‚¬ìš©í•´ ë¶ˆí•„ìš”í•œ ì½”ë“œë¥¼ ì œê±°í•˜ê³ ,
ì˜µì €ë²„ê°€ ìƒíƒœë¥¼ ê°€ì§€ë©°, ì—¬ëŸ¬ ë©”ìŠ¤ë“œë¥¼ ì •ì˜í•˜ëŠ” ë“± ë³µì¡í•˜ë‹¤ë©´ ëŒë‹¤ í‘œí˜„ì‹ë³´ë‹¤ ê¸°ì¡´ì˜ í´ë˜ìŠ¤ êµ¬í˜„ë°©ì‹ì´ ë‚«ë‹¤.

### **9.2.4 ì±…ì„ ì—°ì‡„ íŒ¨í„´ Chain of Responsibility**

ì‘ì—… ì²˜ë¦¬ ê°ì²´ì˜ ì²´ì¸(ë™ì‘ ì²´ì¸ ë“±)ì„ ë§Œë“¤ ë–„ëŠ” ì˜ë¬´ ì²´ì¸ íŒ¨í„´ì„ ì‚¬ìš©í•œë‹¤.

```java
public abstract class processingObject<T> {
	protected ProcessingObject<T> successor;
	public void setSuccessor(ProcessingObject<T> successor) {
		this.successor = successor;
}
public T handle(T input) {
	T r = handleWork(input);
	if(successor != null) {
		return successor.handle(r);
		}
	return r;
	}
abstract protected T handleWork(T input);
}
```

handle ë©”ì„œë“œëŠ” ì¼ë¶€ ì‘ì—…ì„ ì–´ë–»ê²Œ ì²˜ë¦¬í•´ì•¼í• ì§€ ì „ì²´ì ìœ¼ë¡œ ê¸°ìˆ í•œë‹¤.

ProcessingObject í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì•„ handleWork ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ì—¬ ë‹¤ì–‘í•œ ì¢…ë¥˜ì˜ ì‘ì—… ì²˜ë¦¬ ê°ì²´ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

```java
public class HeaderTextProcessing extends ProcessingObject<String> {
	public String handleWork(String text) {
		return "From Raoul, Mario and Alan : " + text;
	}
}
public class SpellCheckerProcessing extends ProcessingObject<String> {
	public String handleWork(String text) {
		return text.replaceAll("labda", "lambda");
	}
}
// ë‘ ì‘ì—… ì²˜ë¦¬ ê°ì²´ë¥¼ ì—°ê²°í•´ì„œ ì‘ì—… ì²´ì¸ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
ProcessingObject<String> p1 = new HeaderTextProcessing();
ProcessingObject<String> p2 = new SpellCheckerProcessing();
p1.setSuccessor(p2); //ë‘ ì‘ì—…ì²˜ë¦¬ ê°ì²´ë¥¼ ì—°ê²°
String result = p1.handle("Aren't labdas really sexy?!");
System.out.println(result); 
// From Raoul, Mario and Alan : Aren't labdas really sexy?! ì¶œë ¥
```

**ëŒë‹¤ í‘œí˜„ì‹ ì‚¬ìš©**

í•¨ìˆ˜ ì²´ì¸(í•¨ìˆ˜ì¡°í•©)ê³¼ ë¹„ìŠ·í•˜ë‹¤ ! ì‘ì—…ì²˜ë¦¬ ê°ì²´ë¥¼ `Function<String,String>`, ë” ì •í™•íˆ í‘œí˜„í•˜ìë©´`UnaryOperator<String>` í˜•ì‹ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í‘œí˜„í•  ìˆ˜ ìˆìœ¼ë©°, `andThen` ë©”ì„œë“œë¡œ ì´ë“¤ í•¨ìˆ˜ë¥¼ ì¡°í•©í•´ì„œ ì²´ì¸ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

```java
UnaryOperator<String> headerProcessing =
	(String text) -> "From Raoul, Mario and Alan : " + text; // 1ë²ˆì§¸ ì‘ì—…ì²˜ë¦¬ ê°ì²´
UnaryOperator<String> spellCheckerProcessing =
	(String text) -> text.replaceAll("labda", "lambda"); //2ë²ˆì§¸ ì‘ì—…ì²˜ë¦¬ ê°ì²´
Function<String, String> pipeline = 
	headerProcessing.andThen(spellCheckerProcessing); // ë™ì‘ ì²´ì¸ìœ¼ë¡œ ë‘ í•¨ìˆ˜ ì¡°í•©
String result = pipeline.apply("Aren't labdas really sexy?!");
```

### **9.2.5 íŒ©í† ë¦¬**

ì¸ìŠ¤í„´ìŠ¤í™” ë¡œì§ì„ í´ë¼ì´ì–¸íŠ¸ì— ë…¸ì¶œí•˜ì§€ ì•Šê³  ê°ì²´ë¥¼ ë§Œë“¤ ë•Œ íŒ©í† ë¦¬ ë””ìì¸ íŒ¨í„´ì„ ì‚¬ìš©í•œë‹¤.

```java
// ì€í–‰ì—ì„œ ì·¨ê¸‰í•˜ëŠ” ë‹¤ì–‘í•œ ìƒí’ˆì„ ë§Œë“œëŠ” íŒ©í† ë¦¬ í´ë˜ìŠ¤
public class ProdectFactor {
	public static Product createProduct(String name) {
		switch(name) {
			case "loan" : return new Loan();
			case "stock" : return new Stock();
			case "bond" : return new Bond();
			default : throw new RuntimeException("No Such product" + name);
		}
	}
}
```

ì—¬ê¸°ì„œ Loan, Stock, BondëŠ” ëª¨ë‘ Productì˜ ì„œë¸Œ í˜•ì‹ì´ë‹¤. ìƒì„±ìì™€ ì„¤ì •ì„ ì™¸ë¶€ë¡œ ë…¸ì¶œí•˜ì§€ ì•ŠìŒìœ¼ë¡œì¨ í´ë¼ì´ì–¸íŠ¸ê°€ ë‹¨ìˆœí•˜ê²Œ ìƒí’ˆì„ ìƒì‚°í•  ìˆ˜ ìˆë‹¤. `product p = ProductFactory.createProduct("loan");`
ì´ëŠ” ë¶€ê°€ì ì¸ ê¸°ëŠ¥ì¼ ë¿ ìœ„ ì½”ë“œì˜ ì§„ì§œ ì¥ì ì€ ìƒì‚°ìì™€ ì„¤ì •ì„ ì™¸ë¶€ë¡œ ë…¸ì¶œí•˜ì§€ ì•ŠìŒìœ¼ë¡œì¨ (ìº¡ìŠí™”) í´ë¼ì´ì–¸íŠ¸ê°€ ë‹¨ìˆœí•˜ê²Œ ìƒí’ˆì„ ìƒì‚°í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤.

**ëŒë‹¤ í‘œí˜„ì‹ ì‚¬ìš©**

```java
// Loan ìƒì„±ìë¥¼ ì‚¬ìš©í•˜ëŠ” ì½”ë“œ
Supplier<Product> loanSupplier = Loan::new;
Loan loan = loanSupplier.get();
```

ìœ„ ì½”ë“œì™€ ê°™ì´ ìƒì„±ìë„ ë©”ì„œë“œ ì°¸ì¡°ì²˜ëŸ¼ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.

```java
//ìƒí’ˆëª…ê³¼ ìƒì„±ìë¥¼ ì—°ê²°í•˜ëŠ” Map ì½”ë“œë¡œ ì¬êµ¬í˜„
final static Map<String, Supplier<Product>> map = new HashMap<>();
static {
	map.put("loan", Loan::new);
	map.put("stock", Stock::new);
	map.put("bond", Bond::new);
}

//Mapì„ ì´ìš©í•´ ë‹¤ì–‘í•œ ìƒí’ˆì„ ì¸ìŠ¤í„´ìŠ¤í™”
public static Product createProduct(String name) {
	Supplier<product> p = map.get(name);
	if(p != null) return p.get();
	throw new RuntimeException("No Such product" + name);
}
```

createProductê°€ ìƒí’ˆ ìƒì„±ì,ë¡œ ì—¬ëŸ¬ ì¸ìˆ˜ë¥¼ ì „ë‹¬í•˜ëŠ” ìƒí™©ì—ì„œëŠ” ì´ ê¸°ë²•ì„ ì ìš©í•˜ê¸° ì–´ë µë‹¤. ë‹¨ìˆœí•œ Supplier í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ë¡œëŠ” ì´ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ì—†ë‹¤.
ì˜ˆë¥¼ ë“¤ì–´ ì„¸ ì¸ìˆ˜ë¥¼ ë°›ëŠ” ìƒí’ˆì˜ ìƒì„±ìê°€ ìˆë”°ê³  ê°€ì •í•œë‹¤ë©´, ì„¸ ì¸ìˆ˜ë¥¼ ì§€ì›í•˜ë ¤ë©´ íŠ¹ë³„í•œ í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ì–´ì•¼í•œë‹¤. ê²°êµ­ Mapì˜ ì‹œê·¸ë‹ˆì²˜ê°€ ë³µì¡í•´ì§„ë‹¤ëŠ” ê²ƒì´ë‹¤.

```java
public interface TriFunction<T, U, V, R>{
	R apply(T t, U u, V v);
}
Map<String, TriFunction<Integer, Integer, String, Product>> map 
	= new HashMap<>();
```

## **9.3 ëŒë‹¤ í…ŒìŠ¤íŒ…**

ì¼ë°˜ì ìœ¼ë¡œ í”„ë¡œê·¸ë¨ì´ ì˜ë„ëŒ€ë¡œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆëŠ” ë‹¨ìœ„í…ŒìŠ¤íŒ…ì„ ì§„í–‰í•œë‹¤.
ìš°ë¦¬ëŠ” ì†ŒìŠ¤ ì½”ë“œì˜ ì¼ë¶€ê°€ ì˜ˆìƒëœ ê²°ê³¼ë¥¼ ë„ì¶œí•  ê²ƒì´ë¼ ë‹¨ì–¸í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ êµ¬í˜„í•œë‹¤.

### **9.3.1 ë³´ì´ëŠ” ëŒë‹¤ í‘œí˜„ì‹ì˜ ë™ì‘ í…ŒìŠ¤íŒ…**

ëŒë‹¤ í‘œí˜„ì‹ì€ í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ë¯€ë¡œ, ìƒì„±ëœ ì¸ìŠ¤í„´ìŠ¤ì˜ ë™ì‘ìœ¼ë¡œ ëŒë‹¤ í‘œí˜„ì‹ì„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ëŒë‹¤ëŠ” ìµëª…ì´ë¯€ë¡œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì´ë¦„ì„ í˜¸ì¶œí•  ìˆ˜ ì—†ë‹¤.
ë”°ë¼ì„œ í•„ìš”í•˜ë‹¤ë©´ ëŒë‹¤ë¥¼ í•„ë“œì— ì €ì¥í•´ì„œ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©° ëŒë‹¤ì˜ ë¡œì§ì„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë‹¤.

```java
// ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì²˜ëŸ¼ ëŒë‹¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
public class Point {
	public final static Comparator<Point> compareByXAndThenY =
		comparing(Point::getX).thenComparing(Point::getY);
	...
}

//TEST ì½”ë“œ
@Test
public void testComparingTwoPoints() throws Exception {
	Point p1 = new Point(10, 15);
	Point p2 = new Point(10, 20);
	int result = Point.compareByXThenY.compare(p1, p2);
	assertTrue(result < 0);
}
```

### **9.3.2 ëŒë‹¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ë©”ì„œë“œì˜ ë™ì‘ì— ì§‘ì¤‘í•˜ë¼**

ëŒë‹¤ì˜ ëª©í‘œëŠ” ì •í•´ì§„ ë™ì‘ì„ ë‹¤ë¥¸ ë©”ì„œë“œì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ë‚˜ì˜ ì¡°ê°ìœ¼ë¡œ ìº¡ìŠí™”í•˜ëŠ” ê²ƒì´ë‹¤.
ê·¸ëŸ¬ë ¤ë©´ ì„¸ë¶€ êµ¬í˜„ì„ í¬í•¨í•˜ëŠ” ëŒë‹¤ í‘œí˜„ì‹ì„ ê³µê°œí•˜ì§€ ë§ì•„ì•¼ í•œë‹¤.
ëŒë‹¤ í‘œí˜„ì‹ì„ ì‚¬ìš©í•˜ëŠ” ë©”ì„œë“œì˜ ë™ì‘ì„ í…ŒìŠ¤íŠ¸í•¨ìœ¼ë¡œì¨ ëŒë‹¤ë¥¼ ê³µê°œí•˜ì§€ ì•Šìœ¼ë©´ì„œë„ ëŒë‹¤ í‘œí˜„ì‹ì„ ê²€ì¦í•  ìˆ˜ ìˆë‹¤.

```java
public static List<Point> moveAllPointsRightBy(List<Point> points, int x) {
	return points.stream()
		.map(p -> new Point(p.getX() + x, p.getY()))
		.collect(toList());
}

//TEST ì½”ë“œ
@Test
public void testComparingAllPointsRigtTwoPoints() throws Exception {
	List<Point> points =
		Arrays.asList(new Point(5, 5), new Point(10, 5));
	List<Point> excpectedPoints = 
		Arrays.asList(new Point(15, 5), new Point(20, 5));
	List<Point> newPoinsts = Point.moveAllPointsRightBy(points, 10);
	assertEquals(expectedPoint, newPoints);
}
/*
ìœ„ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ì—ì„œ ë³´ì—¬ì£¼ëŠ” ê²ƒì²˜ëŸ¼ Point í´ë˜ìŠ¤ì˜ equals ë©”ì„œë“œëŠ” ì¤‘ìš”í•œ ë©”ì„œë“œë‹¤.
ë”°ë¼ì„œ Objectì˜ ê¸°ë³¸ì ì¸ equals êµ¬í˜„ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë ¤ë©´ equals ë©”ì„œë“œë¥¼ ì ì ˆí•˜ê²Œ êµ¬í˜„í•´ì•¼ í•œë‹¤.
*/
```

### **9.3.4 ê³ ì°¨ì› í•¨ìˆ˜ í…ŒìŠ¤íŒ…**

í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œ ë°›ê±°ë‚˜ ë‹¤ë¥¸ í•¨ìˆ˜ë¥¼ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œë¥¼ ê³ ì°¨ì› í•¨ìˆ˜ë¼ê³  í•œë‹¤.
ë©”ì„œë“œê°€ ëŒë‹¤ë¥¼ ì¸ìˆ˜ë¡œ ë°›ëŠ”ë‹¤ë©´ ë‹¤ë¥¸ ëŒë‹¤ë¡œ ë©”ì„œë“œì˜ ë™ì‘ì„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë‹¤.

```java
@Test
Public void testFilter() throws Exception {
	List<Integer> numbers = Arrays.asList(1,2,3,4);
	List<Integer> even = filter(numbers, i -> i % 2 == 0);
	List<Integer> smallerThanThree = filter(numbers, i -> i < 3);
	assertEquals(Arrays.asList(2,4), even);
	assertEquals(Arrays.asList(1,2), smallerThanThree);
}
```

### **9.4 ë””ë²„ê¹…**

ëŒë‹¤ í‘œí˜„ì‹ê³¼ ìŠ¤íŠ¸ë¦¼ì€ ê¸°ì¡´ì˜ ë””ë²„ê¹… ê¸°ë²•(ìŠ¤íƒíŠ¸ë ˆì´ìŠ¤, ë¡œê¹…)ì„ ë¬´ë ¥í™”í•œë‹¤.

### **9.4.1 ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ í™•ì¸**

**ëŒë‹¤ì™€ ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤**

ëŒë‹¤ í‘œí˜„ì‹ì€ ì´ë¦„ì´ ì—†ê¸° ë•Œë¬¸ì— ë³µì¡í•œ ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ê°€ ìƒì„±ëœë‹¤.

ë©”ì„œë“œ ì°¸ì¡°ë¥¼ ì‚¬ìš©í•´ë„ ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ì—ëŠ” ë©”ì„œë“œ ëª…ì´ ë‚˜íƒ€ë‚˜ì§€ ì•ŠëŠ”ë‹¤.

ë©”ì„œë“œ ì°¸ì¡°ë¥¼ ì‚¬ìš©í•˜ëŠ” í´ë˜ìŠ¤ì™€ ê°™ì€ ê³³ì— ì„ ì–¸ë˜ì–´ìˆëŠ” ë©”ì„œë“œë¥¼ ì°¸ì¡°í•  ë•ŒëŠ” ë©”ì„œë“œ ì°¸ì¡° ì´ë¦„ì´ ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ì— ë‚˜íƒ€ë‚œë‹¤.
ë˜í•œ ëŒë‹¤ í‘œí˜„ì‹ê³¼ ê´€ë ¨í•œ ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ëŠ” ì´í•´í•˜ê¸° ì–´ë ¤ìš¸ ìˆ˜ ìˆë”°ëŠ” ì ì„ ì—¼ë‘ì— ë‘ì.
ì´ëŠ” ë¯¸ë˜ì˜ ìë°” ì»´íŒŒì¼ëŸ¬ê°€ ê°œì„ í•´ì•¼ í•  ë¶€ë¶„ì´ë‹¤.

### **9.4.2 ì •ë³´ ë¡œê¹…**

```java
// forEachë¡œ ìŠ¤íŠ¸ë¦¼ ê²°ê³¼ë¥¼ ì¶œë ¥í•˜ê±°ë‚˜ ë¡œê¹…í•  ìˆ˜ ìˆë‹¤.
List<Integer> numbers = Arrays.asList(2,3,4,5);
numbers.stream()
	.map(x -> x + 17)
	.filter(x -> x % 2 == 0)
	.limit(3)
	.forEach(System.out::println);
/*
ì¶œë ¥
20
22

forEachë¥¼ í˜¸ì¶œí•˜ëŠ” ìˆœê°„ ì „ì²´ ìŠ¤íŠ¸ë¦¼ì´ ì†Œë¹„ëœë‹¤. 
ìŠ¤íŠ¸ë¦¼ íŒŒì´í”„ë¼ì¸ì— ì ìš©ëœ ê°ê°ì˜ ì—°ì‚°ì´ ì–´ë–¤ ê²°ê³¼ë¥¼ ë„ì¶œí•˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ì´ì”…ë©´ ì¢‹ì„ ê²ƒ ê°™ë‹¤.
ì´ëŠ” peek ì—°ì‚°ì„ í™œìš©í•˜ë©´ ëœë‹¤. ì•„ë˜ ìì„¸íˆ ì ì–´ë’€ë”°.
*/
```

ìœ„ ì—°ì‚°ì—ì„œ `forEach`ë¥¼ í˜¸ì¶œí•˜ëŠ” ìˆœê°„ ì „ì²´ ìŠ¤íŠ¸ë¦¼ì´ ì†Œë¹„ëœë‹¤.

íŒŒì´í”„ë¼ì¸ì— ì ìš©ëœ ê°ê°ì˜ ì—°ì‚°(map, filter, limt)ì´ ì–´ë–¤ ê²°ê³¼ë¥¼ ë„ì¶œí•˜ëŠ”ì§€ í™•ì¸í•˜ë ¤ë©´ peekì´ë¼ëŠ” ìŠ¤íŠ¸ë¦¼ ì—°ì‚°ì„ í™œìš©í•  ìˆ˜ ìˆë‹¤.

peekì€ ìŠ¤íŠ¸ë¦¼ì˜ ê° ìš”ì†Œë¥¼ ì†Œë¹„í•œ ê²ƒì²˜ëŸ¼ ë™ì‘í•˜ì§€ë§Œ, forEachì²˜ëŸ¼ ì‹¤ì œë¡œ ì†Œë¹„í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.
